---
layout: post
title:  "PCM音频数据"
date:   2017-12-06
categories: 多媒体 音频
---

### 一、  音频参数
1. 采样频率

    每秒钟采集声音样本的次数。由于人可以听到的声音频率在20Hz～20000Hz之间，所以常见的22050Hz已经够用了，44100Hz已经是CD音质，而还有个48000Hz是常见视频录制中采用的。再超出48000Hz已经完全没必要了。
    常见采样率：
    + 8000Hz - 电话，听清人声即可；
    + 11025Hz - 电话
    + 22050Hz - 无线电广播
    + 32000Hz - 数码视频
    + 44100Hz - 音频CD
    + 47250Hz - 商用PCM录音机
    + 48000Hz -  数字电视、电影和专业音频、DVD所使用
    + 50000Hz - 商用数字录音机
    + 96000Hz或192000Hz - DVD、蓝光或HD-DVD

2.  采样位数

    又叫采样大小或量化位数。用来衡量声音波动变化的一个参数，它的数值越大，分辨率也就越高，声音也就会越真实。
    常见的一般为8位或16位。
    每个采样数据记录的就是振幅，采样精度取决于采样位数的大小：
    + 1字节（8位）只能记录256个数，也就是只能将振幅划分为256个等级；
    + 2字节（16位）可以记录65535个数，已经是CD标准了；
    + 4字节（32位）可以细分到4294967296，这个已经没必要了；

3. 通道数

    声音通道的数量，常见的有单声道和立体声（双声道）。

4. 比特率

    又称码率，指每秒播放的数据大小，单位为bps。
    码率 = 采样频率 × 采样位数 × 通道数；
    音频文件大小 = 码率 × 音频时长；

5. 其他

    音频数据存储的方式：
    + 交错模式 - 数据以连续帧的方式存放，即首先存放记录帧1的左声道样本和右声道样本，再开始帧2的记录；
    + 非交错模式 - 首先记录的是一个周期内所有帧的左声道样本，再记录所有右声道样本。
    调查声道变换的过程发现处理方式都是按照交错模式来处理，这里不清楚是否都是这样的情况。

### 二、 音频声道变换

1. 单声道->双声道

    对于PCM音频数据单声道变为双声道的处理较为简单，只需要将音频扩大一倍，根据交错模式，复制采样位数大小的数据，并重复填充到两个采样位数长度的数据中即可。

2. 双声道->单声道

    + 双声道->单声道（左）

        创建一个新的音频数据空间，依次复制原始音频数据的采样位数长度的数据到新数据空间，然后再步进一个采样位数长度。直到数据处理完毕。

    + 双声道->单声道（右）

        原理同上，不同的是初始位置为一个采样位数长度。

    + 双声道->单声道（混合）

        